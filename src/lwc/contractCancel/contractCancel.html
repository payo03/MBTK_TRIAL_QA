<template>
    <lightning-quick-action-panel header="계약 취소">
        <div class="slds-size_1-of-1 slds-card slds-p-around_x-small sub-wrap">
            <div class="slds-text-heading_small slds-p-bottom_small">
                <div class="slds-m-bottom_small slds-align_absolute-center">
                    취소되는 계약 번호 : {contractNo}
                </div>
                <div class="slds-m-bottom_small slds-align_absolute-center">
                    현재 기회가 Closed Lost로 변경됩니다.
                </div>
                <div class="slds-m-bottom_small slds-align_absolute-center">
                    <span style="color: red;">고객의 취소 사유를 반드시 하나 이상 선택해주세요.</span>
                </div>
                <div class="slds-grid slds-wrap">
                    <div class="slds-size_1-of-2 slds-m-bottom_small">
                        <lightning-dual-listbox label="경쟁업체 선택"
                                name="CompetitorSelection__c"
                                source-label="사용 가능"
                                selected-label="선택됨"
                                options={lostReasons.CompetitorSelection__c}
                                onchange={handleChange}>
                        </lightning-dual-listbox>
                    </div>
                    <div class="slds-size_1-of-2 slds-m-bottom_small">
                        <lightning-dual-listbox label="경제적 이유"
                                name="EconomicReasons__c"
                                source-label="사용 가능"
                                selected-label="선택됨"
                                options={lostReasons.EconomicReasons__c}
                                onchange={handleChange}>
                        </lightning-dual-listbox>
                    </div>
                    <div class="slds-size_1-of-2">
                        <lightning-dual-listbox label="개인적인 사유"
                                name="PersonalReasons__c"
                                source-label="사용 가능"
                                selected-label="선택됨"
                                options={lostReasons.PersonalReasons__c}
                                onchange={handleChange}>
                        </lightning-dual-listbox>
                    </div>
                    <div class="slds-size_1-of-2">
                        <lightning-dual-listbox label="기술적 이유"
                                name="TechnicalReasons__c"
                                source-label="사용 가능"
                                selected-label="선택됨"
                                options={lostReasons.TechnicalReasons__c}
                                onchange={handleChange}>
                        </lightning-dual-listbox>
                    </div>
                </div>
                <div class="slds-m-vertical_small slds-align_absolute-center">
                    <span style="color: red;">계약을 취소하시겠습니까?</span>
                </div>
            </div>
        </div>
        <div slot="footer" class="slds-align_absolute-center">
            <div class="slds-m-bottom_small slds-align_absolute-center">
                <lightning-button
                        variant="brand"
                        class=""
                        type="submit"
                        label="확인"
                        onclick={handleCancelContract}
                        >
                </lightning-button>
                <lightning-button
                        class="slds-m-left_xx-small"
                        label="뒤로"
                        onclick={handleCancel}>
                </lightning-button>
            </div>
        </div>
    </lightning-quick-action-panel>
    <template lwc:if={isLoading}>
        <lightning-spinner alternative-text="Loading" variant="brand" size="medium"></lightning-spinner>
    </template>
</template>
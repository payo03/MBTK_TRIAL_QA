<template>

    <div class="slds-grid slds-size_7-of-7">

        <div class="slds-p-around_small slds-p-bottom_none slds-size_4-of-7 ">
            <div class="slds-card__header slds-grid">
                <lightning-icon icon-name="utility:copy_to_clipboard" alternative-text="Utility image" size="small" title="Image"></lightning-icon>
                <h2 class="slds-card__header-title">
                    <span class="slds-p-left_medium" style="font-size: 24px; font-weight: bold;">필수 파일 첨부</span>
                </h2>
            </div>

            <article class="box-wrap">
                <div class="slds-card__header slds-grid">
                <header class="slds-media slds-media_center slds-has-flexi-truncate">
                    <div class="slds-media__figure">
                        <span class="slds-icon_container slds-icon-standard-account" title="account">
                                <lightning-icon icon-name="action:add_file" alternative-text="Utility image" size="x-small" title="Image"></lightning-icon>
                            <span class="slds-assistive-text">주민등록증</span>
                        </span>
                    </div>
                    <div class="slds-media__body">
                        <h2 class="slds-card__header-title">
                            <span>주민등록증</span>
                        </h2>
                    </div>
                </header>
                </div>
                <div class="slds-card__body slds-card__body_inner">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-file-selector__dropzone slds-size_1-of-1 slds-p-around_medium" 
                            data-name="file1"
                            ondragover={handleDragOver}
                            ondragleave={handleDragLeave}
                            ondrop={handleDrop}>
                            <input type="file"
                                    name="file1"
                                    onchange={handleUploadFinished}
                                    class="slds-file-selector__input slds-assistive-text"
                                    accept={accept}
                                    id="file1" />
                            <lightning-button
                                variant="Neutral"
                                name="file1"
                                label="Upload File"
                                onclick={handleChooseFile}
                                icon-name="utility:upload">
                            </lightning-button>
                            <p> Drag and Drop files here</p>
                        </div>
                    </div>
        
                    <template if:true={file1Details}>
                        <div class="pill-container slds-p-top_small">
                            <lightning-pill 
                                data-key={file1Details.key} label={file1Details.name} data-name="regNum" onremove={handleRemove}>
                            </lightning-pill>
                        </div>
                    </template>

                    <!-- <template if:true={file1Details}>
                        <p><strong>{file1Details.name} ({file1Details.size})</strong></p>
                    </template> -->
                </div>
            </article>

            <div class="slds-m-vertical_small box-wrap">
                <div class="slds-card__header slds-grid">
                    <header class="slds-media slds-media_center slds-has-flexi-truncate">
                        <div class="slds-media__figure">
                            <span class="slds-icon_container slds-icon-standard-account" title="account">
                                <lightning-icon icon-name="action:add_file" alternative-text="Utility image" size="x-small" title="Image"></lightning-icon>
                                <span class="slds-assistive-text">사업자등록증</span>
                            </span>
                        </div>
                        <div class="slds-media__body">
                            <h2 class="slds-card__header-title">
                                <span>사업자등록증</span>
                            </h2>
                        </div>
                    </header>
                </div>
                <div class="slds-card__body slds-card__body_inner">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-file-selector__dropzone slds-size_1-of-1 slds-p-around_medium"
                            data-name="file2"
                            ondragover={handleDragOver}
                            ondragleave={handleDragLeave}
                            ondrop={handleDrop}>
                            <input type="file"
                                    name="file2"
                                    onchange={handleUploadFinished}
                                    class="slds-file-selector__input slds-assistive-text"
                                    accept={accept}
                                    id="file2" />
                            <lightning-button
                                variant="Neutral"
                                name="file2"
                                label="Upload File"
                                onclick={handleChooseFile}
                                icon-name="utility:upload">
                            </lightning-button>
                            <p> Drag and Drop files here</p>
                        </div>        
                    </div>

                    <template if:true={file2Details}>
                        <div class="pill-container slds-p-top_small">
                            <lightning-pill 
                                data-key={file2Details.key} label={file2Details.name} data-name="bizNum" onremove={handleRemove}>
                            </lightning-pill>
                        </div>
                    </template>
        
                    <!-- <template if:true={file2Details}>
                        <p><strong>{file2Details.name} ({file2Details.size})</strong></p>
                    </template> -->
                </div>
            </div>

            <article class="box-wrap">
                <div class="slds-card__header slds-grid">
                    <header class="slds-media slds-media_center slds-has-flexi-truncate">
                        <div class="slds-media__figure">
                            <span class="slds-icon_container slds-icon-standard-account" title="account">
                                <lightning-icon icon-name="action:add_file" alternative-text="Utility image" size="x-small" title="Image"></lightning-icon>
                                <span class="slds-assistive-text">부가세후취</span>
                            </span>
                        </div>
                        <div class="slds-media__body">
                            <h2 class="slds-card__header-title">
                                <span>부가세후취</span>
                            </h2>
                        </div>
                    </header>
                </div>
                <div class="slds-card__body slds-card__body_inner">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-file-selector__dropzone slds-size_1-of-1 slds-p-around_medium"
                            data-name="file3"
                            ondragover={handleDragOver}
                            ondragleave={handleDragLeave}
                            ondrop={handleDrop}>
                            <input type="file"
                                    multiple
                                    name="file3"
                                    onchange={handleUploadFinished}
                                    class="slds-file-selector__input slds-assistive-text"
                                    accept={accept}
                                    id="file3" />
                            <lightning-button
                                variant="Neutral"
                                name="file3"
                                label="Upload File"
                                onclick={handleChooseFile}
                                icon-name="utility:upload">
                            </lightning-button>
                            <p> Drag and Drop files here</p>
                        </div>
            
                        <!-- <div class="slds-size_3-of-7 slds-p-around_medium">
                            <dl>
                                <dd>부가세후취 관련 파일을 업로드하세요. </dd>
                                <dd>더 자세한 설명~. </dd>
                            </dl>
                        </div> -->
                    </div>
        
                    <template if:true={file3Details}>
                        <div class="pill-container slds-p-top_small">
                            <template for:each={file3Details} for:item="file" for:index="index">
                                <lightning-pill 
                                    key={file.key} data-key={file.key} label={file.name} data-name="vat" onremove={handleRemove}>
                                </lightning-pill>
                            </template>
                        </div>
                    </template>
                </div>
            </article>
        </div>
        
        <div class="slds-p-around_small slds-p-bottom_none slds-size_3-of-7">

            <div class="slds-card__header slds-grid">
                <lightning-icon icon-name="utility:answer" alternative-text="Utility image" size="medium" title="Image"></lightning-icon>
                <h2 class="slds-card__header-title">
                    <span class="slds-p-left_medium" style="font-size: 24px; font-weight: bold;">파일 업로드 하는 방법</span>
                </h2>
            </div>
            <!-- <div class="slds-card__header slds-grid " style="font-size: 24px; font-weight: bold;">파일 업로드 하는 방법</div> -->
             <div class="box-wrap">
                <div class="slds-p-around_small slds-p-bottom_none">
                    <dl>
                        <br/>
                        <strong style="font-size: 20px;">파일 업로드</strong>
                        <dd style="font-size: 15px;">[Upload File] 버튼을 클릭하거나,</dd>
                        <dd style="font-size: 15px;">각 영역에 파일을 드래그해서 업로드 가능합니다.</dd>
                        <br/>
                        <strong style="font-size: 20px;">업로드 가능한 파일 유형</strong>
                        <dd style="font-size: 15px;">업로드할 수 있는 파일 유형은 다음과 같습니다.</dd>
                        <dd style="font-size: 15px;">PDF 파일, 이미지 파일(.jpg, .png)</dd>
                        <br/>
                        <strong style="font-size: 20px;">주민등록증</strong>
                        <dd style="font-size: 15px;">주민등록증 관련 파일을 하나만 업로드 해주세요.</dd>
                        <br/>
                        <strong style="font-size: 20px;">사업자등록증</strong>
                        <dd style="font-size: 15px;">사업자등록증 관련 파일을 하나만 업로드 해주세요.</dd>
                        <br/>
                        <strong style="font-size: 20px;">부가세후취</strong>
                        <dd style="font-size: 15px;">부가세후취 관련 파일은 총 6개 이상부터 저장이 가능합니다.</dd>
                        <br/>
                    </dl>
                </div>
            </div>
        </div>

    </div>

    <template lwc:if={isLoading}>
        <lightning-spinner alternative-text="Loading" variant="brand" size="medium"></lightning-spinner>
    </template>

    <div slot="footer" class="slds-align_absolute-center">
        <div class="slds-m-around_small slds-align_absolute-center">
            <lightning-button
                class="slds-m-right_xx-small"
                label="취소"
                onclick={handleCancel}>
            </lightning-button>
            <lightning-button
                variant="brand"
                class=""
                type="submit"
                label="저장"
                onclick={handleSave}>
            </lightning-button>
        </div>
    </div>
    
</template>